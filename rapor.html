<!DOCTYPE html>
<html lang="id">
<head>
 <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detail Rapor Yayasan Pusat Sekolah Islam</title>

  <!-- Open Graph -->
  <meta property="og:title" content="Detail Rapor | SD PSI Fathir Alfath">
  <meta property="og:description" content="Lihat detail rapor online SD PSI Fathir Alfath.">
  <meta property="og:image" content="https://rapor-psi.vercel.app/images/logo.png">
  <meta property="og:url" content="https://rapor-psi.vercel.app">
  <meta property="og:type" content="website">

  <link rel="icon" href="images/favicon.ico" type="image/x-icon">

<style>
  body {
    font-family: 'Times New Roman', serif;
    margin: 40px auto;
    font-size: 14px;
    color: #000;
    max-width: 21cm; /* biar pas kertas A4 */
  }

  table {
    width: 100% !important;
    border-collapse: collapse;
    margin-bottom: 12px;
    table-layout: fixed; /* stabilin kolom */
  }

  th, td {
    border: 1px solid #000;
    padding: 8px 6px;
    vertical-align: middle;
    line-height: 1.18;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  .no-border td, .no-border th { border: none; padding: 4px; }
  .compact th, .compact td { padding: 4px 6px; line-height: 1.1; }
  .center { text-align: center; }
  .section-title { font-weight: bold; margin: 10px 0 6px 0; text-align: left; }
  .section-title-center { font-weight: bold; margin: 10px 0 6px 0; text-align: center; }
  .footer { margin-top: 10px; }
  .ttd-row { display: flex; justify-content: space-between; }
  .ttd { width: 45%; text-align: center; }
  .ttd-bottom { text-align: center; margin-top: 10px; }

  /* Kolom rapor */
  .col-no { width: 6%; text-align: center; }
  .col-mapel { width: 27%; text-align: left; }
  .col-nilai { width: 10%; text-align: center; }
  .col-capai { width: 57%; text-align: justify; text-justify: inter-word; }

  .half-table { width: 50%; }
  .text-center { text-align: center; }
  h3.center { margin: 6px 0 12px 0; }

  /* Print */
  @media print {
    @page {
      size: A4 portrait;
      margin: 20mm 15mm 20mm 15mm;
    }
    body {
      margin: 0;
      font-size: 12pt;
      max-width: 100%;
    }
    .no-print { display: none !important; }
    table th, table td { font-size: 12px; padding: 4px 6px; }
  }

  /* Tombol cetak */
  .print-btn {
    position: fixed;
    right: 16px;
    bottom: 16px;
    z-index: 1200;
    background: #007bff;
    color: #fff;
    border: none;
    padding: 12px 18px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  }
  .print-btn:hover { background: #0056b3; }

  @media (max-width: 600px) {
    .print-btn {
      right: 12px;
      bottom: 12px;
      font-size: 14px;
      padding: 10px 14px;
    }
  }

  /* Identitas */
  .identitas {
    width: 100% !important;
    border-collapse: collapse;
    font-size: 14px;
  }
  table.identitas td, table.identitas th {
    border: none;
    padding: 4px 6px;
    vertical-align: top;
  }
  table.identitas td.value {
    width: 20px;
  }
</style>
</head>
<body>
<div id="pdf-content">
<!-- Identitas -->
<table class="identitas">
  <colgroup>
    <col style="width: 160px;">
    <col style="width: 300px;">
    <col style="width: 120px;">
    <col style="width: 20px;">
  </colgroup>
  <tr>
    <td>Nama Peserta Didik</td>
    <td class="value">: <span id="nama_siswa"></span></td>
    <td>Kelas</td>
    <td class="value">: <span id="kelas"></span></td>
  </tr>
  <tr>
    <td>NISN / NIS</td>
    <td class="value">: <span id="nisn"></span> / <span id="nis"></span></td>
    <td>Fase</td>
    <td class="value">: <span id="fase"></span></td>
  </tr>
  <tr>
    <td>Nama Sekolah</td>
    <td class="value">: SD PSI FATHIR ALFATH</td>
    <td>Semester</td>
    <td class="value">: <span id="semester"></span></td>
  </tr>
  <tr>
    <td>Alamat</td>
    <td class="value">: Jl. Lintas Barat Sumatera Gedung Sako II,<br>Kec. Kaur Selatan, Kab. Kaur</td>
    <td>Tahun Ajaran</td>
    <td class="value">: <span id="tahun_ajaran"></span></td>
  </tr>
</table>

<h3 class="center">LAPORAN HASIL BELAJAR SUMATIF AKHIR SEMESTER</h3>

<!-- Kelompok A -->
<div class="section-title">Kelompok A</div>
<table id="tabelKelA">
  <tr>
    <th class="col-no">No.</th>
    <th class="col-mapel">Mata Pelajaran</th>
    <th class="col-nilai">Nilai Akhir</th>
    <th class="col-capai">Capaian Kompetensi</th>
  </tr>
</table>

<!-- Kelompok B -->
<div class="section-title">Kelompok B</div>
<table id="tabelKelB">
  <tr>
    <th class="col-no">No.</th>
    <th class="col-mapel">Mata Pelajaran</th>
    <th class="col-nilai">Nilai Akhir</th>
    <th class="col-capai">Capaian Kompetensi</th>
  </tr>
</table>

<!-- Catatan Guru -->
<div class="section-title-center">Catatan Guru</div>
<table>
  <tr><td class="text-center" id="catatan_guru"></td></tr>
</table>

<!-- Ketidakhadiran -->
<div class="section-title">Ketidakhadiran</div>
<table class="half-table">
  <tr><td>Sakit</td><td>: <span id="sakit"></span> Hari</td></tr>
  <tr><td>Izin</td><td>: <span id="izin"></span> Hari</td></tr>
  <tr><td>Tanpa Keterangan</td><td>: <span id="alpa"></span> Hari</td></tr>
</table>

<!-- Tanda tangan -->
<div class="footer">
  <div class="ttd-row">
    <div class="ttd">
      <p>Orang Tua/ Wali Peserta Didik</p><br><br>
      <img id="ttd_wali" style="width:150px; display:none; margin:0 auto;">
      <p id="nama_wali" style="margin-top:15px;">................................</p>
    </div>
    <div class="ttd">
      <p>Kaur, <span id="tanggal"></span><br>Wali Kelas,</p>
      <div style="height:20px;"></div>
      <img id="ttd_wali_kelas" style="width: 200px; margin-top:-40px;">
      <p id="wali_kelas" style="margin-top:-30px;"></p>
    </div>
  </div>
  <div class="ttd-bottom" style="position: relative; height:auto; margin-top:0;">
    <p>Kepala Sekolah,</p>
    <div style="height:20px;"></div>
    <div style="display: flex; justify-content: center; align-items: flex-start; margin-top:-60px;">
      <img id="cap_sekolah" style="width: 150px; margin-right:-90px; margin-top:-20px;">
      <img id="ttd_kepala" style="width: 200px; margin-top: 20px;">
    </div>
    <p style="margin-top:-40px;">Elda Fuspita Sari, S.Pd</p>
  </div>
</div>
</div>

<button id="cetakBtn" class="print-btn no-print">Cetak</button>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
<script src="js/rapor.js"></script>
</body>
</html>
